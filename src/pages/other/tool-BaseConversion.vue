<template>
        <el-container>
            <el-row>
                <el-col :span="5">
                    <span class="demonstration">äºŒè¿›åˆ¶</span>
                    <el-input placeholder="è¯·è¾“å…¥å†…å®¹" v-model="binary"></el-input>
                </el-col>
                <el-col :span="5" :offset="1">
                    <span class="demonstration">å…«è¿›åˆ¶</span>
                    <el-input placeholder="è¯·è¾“å…¥å†…å®¹" v-model="octal"></el-input>
                </el-col>
                <el-col :span="5" :offset="1">
                    <span class="demonstration">åè¿›åˆ¶</span>
                    <el-input placeholder="è¯·è¾“å…¥å†…å®¹" v-model="decimal"></el-input>
                </el-col>
                <el-col :span="5" :offset="1">
                    <span class="demonstration">åå…­è¿›åˆ¶</span>
                    <el-input placeholder="è¯·è¾“å…¥å†…å®¹" v-model="hex"></el-input>
                </el-col>
            </el-row>
        </el-container>
</template>

<script>
export default {
    name: "toolBaseConversion",
    data() {
        return {
            number: "",
        };
    },
    computed: {
        binary: {
            get() {
                return this.number.toString(2);
            },
            set(e) {
                if (!e.match(/^[0-1]*$/)) {
                    this.$bus.$emit("warnMessage", "è·Ÿæˆ‘å¿µâ€œäºŒè¿›åˆ¶â€ğŸ˜’ğŸ˜’");
                } else {
                    this.number = e == "" ? "" : parseInt(e, 2);
                }
            },
        },
        octal: {
            get() {
                return this.number.toString(8);
            },
            set(e) {
                if (!e.match(/^[0-7]*$/)) {
                    this.$bus.$emit("warnMessage", "å“å“ï¼Œçœ‹å¥½å“¦ï¼Œè¿™æ˜¯å…«è¿›åˆ¶ğŸ¤¯ğŸ¤¯");
                } else {
                    this.number = e == "" ? "" : parseInt(e, 8);
                }
            },
        },
        decimal: {
            get() {
                return this.number.toString(10);
            },
            set(e) {
                if (!e.match(/^[0-9]*$/)) {
                    this.$bus.$emit("warnMessage", "å•Šå–‚ï¼Œåè¿›åˆ¶æˆ‘å°±ä¸è¯´ä»€ä¹ˆäº†ğŸ¤ªğŸ¤ª");
                } else {
                    this.number = e == "" ? "" : parseInt(e, 10);
                }
            },
        },
        hex: {
            get() {
                return this.number.toString(16);
            },
            set(e) {
                if (!e.match(/^[0-9a-fA-F]*$/)) {
                    this.$bus.$emit("warnMessage", "å•Šå–‚ï¼Œæƒ³æƒ³å®ƒä¸ºä»€ä¹ˆå«åå…­è¿›åˆ¶ğŸ¤”ğŸ¤”");
                } else {
                    this.number = e == "" ? "" : parseInt(e, 16);
                }
            },
        },
    },
};
</script>

<style scoped>
.demonstration {
    display: block;
    color: #8492a6;
    font-size: 14px;
    margin-bottom: 20px;
    text-align: center;
}
</style>
